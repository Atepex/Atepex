{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\ehaddy\\\\Documents\\\\Projects\\\\Playground\\\\Atepex\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\ehaddy\\\\Documents\\\\Projects\\\\Playground\\\\Atepex\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from 'axios';\nimport { FETCH_USER, FETCH_SURVEYS, LOGOUT_USER } from './types';\nexport var fetchUser = function fetchUser() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.get('/api/current_user');\n\n              case 2:\n                res = _context.sent;\n                dispatch({\n                  type: FETCH_USER,\n                  payload: res.data\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var handleToken = function handleToken(token) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.post('/api/stripe', token);\n\n              case 2:\n                res = _context2.sent;\n                dispatch({\n                  type: FETCH_USER,\n                  payload: res.data\n                });\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var submitSurvey = function submitSurvey(values, history) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                console.log('submit survey');\n                _context3.next = 3;\n                return axios.post('/api/surveys', values);\n\n              case 3:\n                res = _context3.sent;\n                history.push('/surveys');\n                dispatch({\n                  type: FETCH_USER,\n                  payload: res.data\n                });\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var submitContactUs = function submitContactUs(values, history) {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(dispath) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                console.log('submit' + values); //const res = await axios.post('/api/contact', values);\n                //history.push('/');\n                //dispath({ type: FETCH_USER, payload: res.data});\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }()\n  );\n};\nexport var logoutUser = function logoutUser() {\n  return (\n    /*#__PURE__*/\n    function () {\n      var _ref5 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(dispatch) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                console.log(\"trying to log out\");\n                _context5.next = 3;\n                return axios.post('/api/logout');\n\n              case 3:\n                res = _context5.sent;\n                dispatch({\n                  type: FETCH_USER,\n                  payload: res.data\n                });\n\n              case 5:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }()\n  );\n};","map":{"version":3,"sources":["C:\\Users\\ehaddy\\Documents\\Projects\\Playground\\Atepex\\client\\src\\actions\\index.js"],"names":["axios","FETCH_USER","FETCH_SURVEYS","LOGOUT_USER","fetchUser","dispatch","get","res","type","payload","data","handleToken","token","post","submitSurvey","values","history","console","log","push","submitContactUs","dispath","logoutUser"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { FETCH_USER, FETCH_SURVEYS, LOGOUT_USER } from './types';\r\n\r\nexport const fetchUser = () => async (dispatch) => {\r\n\tconst res = await axios.get('/api/current_user');\r\n\tdispatch({ type: FETCH_USER, payload: res.data });\r\n};\r\n\r\nexport const handleToken = (token) => async (dispatch) => {\r\n\tconst res = await axios.post('/api/stripe', token);\r\n\tdispatch({ type: FETCH_USER, payload: res.data });\r\n};\r\n\r\nexport const submitSurvey = (values, history) => async (dispatch) => {\r\n\tconsole.log('submit survey');\r\n\tconst res = await axios.post('/api/surveys', values);\r\n\thistory.push('/surveys');\r\n\tdispatch({ type: FETCH_USER, payload: res.data});\r\n};\r\n\r\nexport const submitContactUs = (values, history) => async (dispath) => {\r\n\tconsole.log('submit' + values);\r\n\t//const res = await axios.post('/api/contact', values);\r\n\t//history.push('/');\r\n\t//dispath({ type: FETCH_USER, payload: res.data});\r\n}\r\n\r\nexport const logoutUser = () => async (dispatch) => {\r\n\tconsole.log(\"trying to log out\");\r\n\tconst res = await axios.post('/api/logout');\r\n\tdispatch({ type: FETCH_USER, payload: res.data });\r\n}"]},"metadata":{},"sourceType":"module"}